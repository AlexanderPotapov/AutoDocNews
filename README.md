# AutoDocNews

Тестовое задание для AutoDoc

## Тестовое задание

### Описание
Разработать приложение, отображающее новостную ленту AutoDoc.

### Источник данных
```
https://webapi.autodoc.ru/api/news/1/15
```

### Требования
- Загрузка и отображение новостей постранично
- Все запросы async / await
- Оптимизация для iPad
- Без использования сторонних библиотек (Alamofire, Kingfisher и т.д.)
- При проверке обращается внимание на быстродействие и масштабируемость решения
- Общая чистота кода будет преимуществом
- Приветствуется творческий подход

### UI
- Прототип ячейки должен содержать **изображение** и **заголовок** новости
- По нажатию необходимо отображать новость **целиком**

## Реализация

### Использованные технологии
- UIKit
- MVVM + Combine
- UICollectionView + CompositionalLayout
- Async/await для сетевых запросов
- Нативная реализация без сторонних библиотек

### Архитектурные решения

#### Чистая архитектура с разделением на слои:
- **Presentation Layer**: Views, ViewControllers, ViewModels
- **Data Layer**: NetworkService, API-клиенты, DTO-модели
- **Domain Layer**: Бизнес-логика и модели

#### Компоненты UI:
- **NewsScene (MVVM)**:
  - NewsView - отображение списка новостей с использованием UICollectionView и CompositionalLayout
  - NewsViewModel - управление данными и взаимодействие с API через Combine
  - NewsViewController - управление UI и биндинг данных
  - NewsSceneRouter - навигация между экранами
  - NewsSceneDataManager - управление данными и пагинацией

- **NewsDetailScene (MVVM)**:
  - NewsDetailView - отображение детальной информации
  - NewsDetailViewModel - подготовка данных для представления
  - NewsDetailViewController - управление UI и навигацией
  - NewsDetailRouter - навигация

### Реализация требований

#### Постраничная загрузка
- Реализована через NewsSceneDataManager
- Автоматическая подгрузка при скролле
- Индикатор загрузки в футере коллекции

#### Асинхронные запросы
- Все сетевые запросы используют async/await
- Обработка ошибок и статус-кодов
- Кэширование через TaskManager

#### Адаптивный дизайн
- CompositionalLayout для адаптивной сетки
- Разные размеры ячеек для iPhone и iPad
- Автоматическая адаптация под размер экрана

#### Связь данных и UI через Combine
- NewsViewModel публикует данные через Combine
- ViewController подписывается на изменения через sink
- Автоматическое обновление UI при изменении данных
- Отмена подписок при деинициализации

### Фабрики и сервисы
- NewsSceneFactory - создание модуля новостей
- NewsDetailFactory - создание модуля деталей
- NetworkService - сетевые запросы
- CacheService - кэширование данных
- TaskManager - управление асинхронными задачами

## Скриншоты

### Главный экран
#### Вертикальное отображение
![Главный экран](Screenshots/main_screen_1.png =250x)
![Загрузка новой страницы](Screenshots/main_screen_2.png =250x)
![Загрузка изображений](Screenshots/main_screen_3.png =250x)

#### Горизонтальное отображение
![Горизонтальное отображение](Screenshots/main_screen_H.png =x250)

### iPad версия
![iPad версия 1](Screenshots/ipad_version_1.png =500x)
![iPad версия 2](Screenshots/ipad_version_2.png =500x)

### Детальный просмотр новости
![Детальный просмотр](Screenshots/news_detail.png =250x)

## Особенности реализации

### Производительность
- Оптимизированная загрузка изображений
- Кэширование данных
- Эффективное использование памяти
- Плавная прокрутка списка

### Архитектура
- Чистая архитектура для лучшей масштабируемости
- MVVM + Combine для реактивного программирования
- Протокол-ориентированное программирование
- Dependency Injection

### UI/UX
- Адаптивный дизайн для iPad
- Плавные анимации
- Интуитивно понятный интерфейс
- Оптимизированная навигация

### Реализация загрузки данных
- **NetworkDataFetcher**: 
  - Асинхронная загрузка данных с использованием async/await
  - Обработка ошибок и статус-кодов
  - Декодирование JSON-ответов
  - Поддержка отмены запросов через TaskManager

- **Загрузка изображений**:
  - Нативная реализация без использования сторонних библиотек
  - Кэширование через TaskManager
  - Асинхронная загрузка с поддержкой отмены
  - Обработка ошибок и статус-кодов

## Требования для запуска

- iOS 15.0+
- Xcode 13.0+
- Swift 5.5+

## Установка

1. Клонируйте репозиторий
2. Откройте проект в Xcode
3. Соберите и запустите проект 
